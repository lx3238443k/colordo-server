// test/controller/home.test.js
const { app, mock, assert } = require('egg-mock/bootstrap');


describe('test/service/comment.test.js', () => {
    it('添加comment', async () => {
        const ctx = app.mockContext();
        let result = await ctx.service.comment.addComment("oEg0L0Wou6qomnhDb_7PUTrmY2Qs", {
            commentUid: 'helloabc',
            createTime: '2018-02-06 14:06:00',
            commentContent: '这是一条子任务',
            commentColor: '#D05050',
            isComplete: false,
            creatorOpenId: 'oEg0L0Wou6qomnhDb_7PUTrmY2Qs',
            parentId: 'W7nQKUhlm5JV5YpvMzI5Qqqfagc9FR1Qt8h7914604854'
        });
        assert(result);
        assert(result === 'suc');
    })
    it('修改comment',async ()=>{
        const ctx = app.mockContext();
        let result=await ctx.service.comment.updateComment('helloabc',{isComplete:true});
        assert(result);
        assert(result === 'suc');
    })

    it('删除comment', async () => {
        const ctx = app.mockContext();
        let result = await ctx.service.comment.deleteComment('helloabc');
        assert(result);
        assert(result === 'suc');
    })

})
